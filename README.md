# Дипломный проект по итогам курса "Тестировщик ПО"

## Документация

* План выполнения работ 
* Отчет о проведенном тестировании
* Отчет о проведенной автоматизации

## О проекте
Приложение представляет из себя веб-сервис.

![текст.png](..%2F..%2FDesktop%2F%F1%EA%F0%E8%ED%FB%2F%F2%E5%EA%F1%F2.png)

Приложение предлагает купить тур по определённой цене с помощью двух способов:

* Обычная оплата по дебетовой карте
* Уникальная технология: выдача кредита по данным банковской карты

Само приложение не обрабатывает данные по картам, а пересылает их банковским сервисам:

* сервису платежей (далее - Payment Gate)
* кредитному сервису (далее - Credit Gate)

Сервис может взаимодействоватьс СУБД MySql и PostgreSql

База данных хранит информацию о заказах, платежах, статусах карт, способах оплаты.

## Цели проекта

В рамках проекта необходимо автоматизировать тестирование комплексного сервиса покупки тура, взаимодействующего с СУБД и API Банка.

### Для запуска приложения:

1. С помощью Git cклонировать репозиторий командой git clone https://github.com/Valeria1616/Diplom;
2. Запустить Docker;
3. Открыть проект в IntelliJ IDEA;

### Запуск тестового приложения
1. Запустить MySQL, PostgreSQL через терминал командой:
   ```
   docker-compose up -d
   ```
2. В новой вкладке терминала запустить тестируемое приложение:
  * Для MySQL:
   ```
   java "-Dspring.datasource.url=jdbc:mysql://localhost:3306/app" -jar aqa-shop.jar
   ```
  * Для PostgreSQL:
   ```
   java "-Dspring.datasource.url=jdbc:postgresql://localhost:5432/app" -jar aqa-shop.jar
   ```
   .
3. Убедиться в готовности системы. Сервис должен быть доступен по адресу:
```
http://localhost:8080/
```

### Запуск тестов
В новой вкладке терминала запустить тесты:
1. Для MySQL:
   ```
   ./gradlew clean test "-Ddb.url=jdbc:mysql://localhost:3306/app"
   ```
1. Для PostgreSQL:
   ```
   ./gradlew clean test "-Ddb.url=jdbc:postgresql://localhost:5432/app"
   ```

### Для просмотра отчетов по результатам тестирования:
1. Сгенерировать отчет Allure, выполнив команду в терминале IDEA: ```./gradlew allureServe```
* Если отчет не открывается автоматически в браузере, то выполнить команду: ```./gradlew allureReport``` и открыть отчет вручную (файл index.html) по адресу: ```.\build\reports\allure-report\allureReport```
2. При необходимости изменить подключение к другой БД, необходимо остановить подключения в терминалах черех Ctrl + C в окне терминала